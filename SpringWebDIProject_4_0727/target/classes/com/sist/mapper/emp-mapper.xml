<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.sist.mapper.emp-mapper">
   <select id="empGetNameData" resultType="string">
    SELECT ename FROM emp
   </select>
   <select id="empInfoData" resultType="EmpVO" parameterType="hashmap">
    SELECT empno,ename,job,TO_CHAR(hiredate,'YYYY-MM-DD') as dbday,sal,comm,deptno
    FROM emp
    <!-- 
        prefix : 첨부 (앞)
        suffix : 첨부 (뒤)
        suffixOverrides => 제거 (뒤)
        prefixOverrides => 제거 (앞)
        
        WHERE
        <if test="name!=null">
          name LIKE '%%'
        </if>
        <if test="subject!=null">
          OR subject LIKE '%%'
        </if>
        <if test="content!=null">
          OR content LIKE '%%'
        </if>
     --> <!-- FROM emp 뒤에 WHERE문장을 첨부한다(prefix) -->
    <trim prefix="WHERE ename IN(" suffix=")" suffixOverrides=")" prefixOverrides="(">
       <!-- foreach문 돌아가면서 open,close로 인해 () 가 추가로 생감 IN(('aa','bb'))  -->
       <!-- 따라서 위에 IN연산자 부분에서 ( ) 제거해줌 -->
       <!-- foreach는 ('','','') 구분역할-->
     <foreach collection="names" item="name" open="(" close=")" separator=","> 
        #{name}
     </foreach>
     
    </trim>
   </select>
 </mapper>